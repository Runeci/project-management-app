(self.webpackChunkproject_management_app=self.webpackChunkproject_management_app||[]).push([[241],{2241:(Q,F,l)=>{"use strict";l.r(F),l.d(F,{BoardsModule:()=>Ke});var g=l(9808),s=l(3075),L=l(4466),M=l(1718),e=l(5e3),w=l(4327),C=l.n(w);let R=(()=>{class i{get isFileSaverSupported(){try{return!!new Blob}catch(t){return!1}}genType(t){if(!t||-1===t.lastIndexOf("."))return"text/plain";const n=t.substr(t.lastIndexOf(".")+1);switch(n){case"txt":return"text/plain";case"xml":case"html":return`text/${n}`;case"json":return"octet/stream";default:return`application/${n}`}}save(t,n,o,a){if(!t)throw new Error("Data argument should be a blob instance");const c=new Blob([t],{type:o||t.type||this.genType(n)});(0,w.saveAs)(c,decodeURI(n||"download"),a)}saveText(t,n,o){const a=new Blob([t]);this.save(a,n,void 0,o)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),m=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})();var d=l(3191),h=l(508),u=l(6360),k=l(8255),U=l(6564);const q=["input"],P=function(i){return{enterDuration:i}},J=["*"],N=new e.OlP("mat-checkbox-default-options",{providedIn:"root",factory:A});function A(){return{color:"accent",clickAction:"check-indeterminate"}}let ce=0;const K=A(),le={provide:s.JU,useExisting:(0,e.Gpc)(()=>V),multi:!0};class de{}const me=(0,h.sb)((0,h.pj)((0,h.Kr)((0,h.Id)(class{constructor(i){this._elementRef=i}}))));let V=(()=>{class i extends me{constructor(t,n,o,a,c,b,I){super(t),this._changeDetectorRef=n,this._focusMonitor=o,this._ngZone=a,this._animationMode=b,this._options=I,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++ce,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new e.vpe,this.indeterminateChange=new e.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||K,this.color=this.defaultColor=this._options.color||K.color,this.tabIndex=parseInt(c)||0}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(t){this._required=(0,d.Ig)(t)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{t||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(t){const n=(0,d.Ig)(t);n!=this.checked&&(this._checked=n,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){const n=(0,d.Ig)(t);n!==this.disabled&&(this._disabled=n,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){const n=t!=this._indeterminate;this._indeterminate=(0,d.Ig)(t),n&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(t){let n=this._currentCheckState,o=this._elementRef.nativeElement;if(n!==t&&(this._currentAnimationClass.length>0&&o.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(n,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){o.classList.add(this._currentAnimationClass);const a=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{o.classList.remove(a)},1e3)})}}_emitChangeEvent(){const t=new de;t.source=this,t.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(t),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_onInputClick(t){var n;const o=null===(n=this._options)||void 0===n?void 0:n.clickAction;t.stopPropagation(),this.disabled||"noop"===o?!this.disabled&&"noop"===o&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==o&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(t,n){t?this._focusMonitor.focusVia(this._inputElement,t,n):this._inputElement.nativeElement.focus(n)}_onInteractionEvent(t){t.stopPropagation()}_getAnimationClassForCheckStateTransition(t,n){if("NoopAnimations"===this._animationMode)return"";let o="";switch(t){case 0:if(1===n)o="unchecked-checked";else{if(3!=n)return"";o="unchecked-indeterminate"}break;case 2:o=1===n?"unchecked-checked":"unchecked-indeterminate";break;case 1:o=2===n?"checked-unchecked":"checked-indeterminate";break;case 3:o=1===n?"indeterminate-checked":"indeterminate-unchecked"}return`mat-checkbox-anim-${o}`}_syncIndeterminate(t){const n=this._inputElement;n&&(n.nativeElement.indeterminate=t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(k.tE),e.Y36(e.R0b),e.$8M("tabindex"),e.Y36(u.Qb,8),e.Y36(N,8))},i.\u0275cmp=e.Xpm({type:i,selectors:[["mat-checkbox"]],viewQuery:function(t,n){if(1&t&&(e.Gf(q,5),e.Gf(h.wG,5)),2&t){let o;e.iGM(o=e.CRH())&&(n._inputElement=o.first),e.iGM(o=e.CRH())&&(n.ripple=o.first)}},hostAttrs:[1,"mat-checkbox"],hostVars:14,hostBindings:function(t,n){2&t&&(e.Ikx("id",n.id),e.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),e.ekj("mat-checkbox-indeterminate",n.indeterminate)("mat-checkbox-checked",n.checked)("mat-checkbox-disabled",n.disabled)("mat-checkbox-label-before","before"==n.labelPosition)("_mat-animation-noopable","NoopAnimations"===n._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[e._Bn([le]),e.qOj],ngContentSelectors:J,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(t,n){if(1&t&&(e.F$t(),e.TgZ(0,"label",0,1)(2,"span",2)(3,"input",3,4),e.NdJ("change",function(a){return n._onInteractionEvent(a)})("click",function(a){return n._onInputClick(a)}),e.qZA(),e.TgZ(5,"span",5),e._UZ(6,"span",6),e.qZA(),e._UZ(7,"span",7),e.TgZ(8,"span",8),e.O4$(),e.TgZ(9,"svg",9),e._UZ(10,"path",10),e.qZA(),e.kcU(),e._UZ(11,"span",11),e.qZA()(),e.TgZ(12,"span",12,13),e.NdJ("cdkObserveContent",function(){return n._onLabelTextChange()}),e.TgZ(14,"span",14),e._uU(15,"\xa0"),e.qZA(),e.Hsn(16),e.qZA()()),2&t){const o=e.MAs(1),a=e.MAs(13);e.uIk("for",n.inputId),e.xp6(2),e.ekj("mat-checkbox-inner-container-no-side-margin",!a.textContent||!a.textContent.trim()),e.xp6(1),e.Q6J("id",n.inputId)("required",n.required)("checked",n.checked)("disabled",n.disabled)("tabIndex",n.tabIndex),e.uIk("value",n.value)("name",n.name)("aria-label",n.ariaLabel||null)("aria-labelledby",n.ariaLabelledby)("aria-checked",n._getAriaChecked())("aria-describedby",n.ariaDescribedby),e.xp6(2),e.Q6J("matRippleTrigger",o)("matRippleDisabled",n._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",e.VKq(19,P,"NoopAnimations"===n._animationMode?0:150))}},directives:[h.wG,U.wD],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-ripple{outline:solid 3px}.mat-checkbox-layout{-webkit-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}\n"],encapsulation:2,changeDetection:0}),i})(),ee=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})(),he=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[h.si,h.BQ,U.Q8,ee],h.BQ,ee]}),i})();var T=l(5215),te=l(5698),ne=l(3900),ie=l(4128),oe=l(8746),O=l(3737),p=l(4904),Y=l(4834),f=l(7322),Z=l(7531),S=l(7423),y=l(7232);function ge(i,r){1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Title is required")," "))}let fe=(()=>{class i{constructor(t,n){this.dialogRef=t,this.fb=n,this.form=this.fb.group({title:["",[s.kI.required]]})}onSubmit(){this.dialogRef.close({columnTitle:this.form.value.title})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(p.so),e.Y36(s.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-new-column-dialog"]],decls:16,vars:16,consts:[["mat-dialog-title",""],[1,"dialog-form",3,"formGroup","ngSubmit"],["appearance","fill"],["type","text","matInput","","formControlName","title",3,"placeholder"],[4,"ngIf"],["mat-flat-button","","type","submit","color","accent",3,"mat-dialog-close","disabled"]],template:function(t,n){if(1&t&&(e.TgZ(0,"h2",0),e._uU(1),e.ALo(2,"translate"),e.qZA(),e._UZ(3,"mat-divider"),e.TgZ(4,"mat-dialog-content")(5,"form",1),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(6,"mat-form-field",2)(7,"mat-label"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e._UZ(10,"input",3),e.ALo(11,"translate"),e.YNc(12,ge,3,3,"mat-error",4),e.qZA(),e.TgZ(13,"button",5),e._uU(14),e.ALo(15,"translate"),e.qZA()()()),2&t){let o;e.xp6(1),e.Oqu(e.lcZ(2,8,"BOARD.NEW_COLUMN_DIALOG.COLUMN")),e.xp6(4),e.Q6J("formGroup",n.form),e.xp6(3),e.Oqu(e.lcZ(9,10,"BOARD.NEW_COLUMN_DIALOG.TITLE")),e.xp6(2),e.s9C("placeholder",e.lcZ(11,12,"BOARD.NEW_COLUMN_DIALOG.TITLE")),e.xp6(2),e.Q6J("ngIf",null==(o=n.form.get("title"))?null:o.hasError("required")),e.xp6(1),e.Q6J("mat-dialog-close",!0)("disabled",n.form.invalid),e.xp6(1),e.hij(" ",e.lcZ(15,14,"BUTTON.CREATE")," ")}},directives:[p.uh,Y.d,p.xY,s._Y,s.JL,s.sg,f.KE,f.hX,Z.Nt,s.Fj,s.JJ,s.u,g.O5,f.TO,S.lW,p.ZT],pipes:[y.X$],styles:[".dialog-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),i})();var _=l(2340),$=l(520);let z=(()=>{class i{constructor(t){this.http=t}getColumns(t){return this.http.get(`${_.N.BASE_URL}/boards/${t}/columns`)}createColumn(t,n){return this.http.post(`${_.N.BASE_URL}/boards/${t}/columns`,n)}getColumn(t,n){return this.http.get(`${_.N.BASE_URL}/boards/${t}/columns/${n}`)}deleteColumn(t,n){return this.http.delete(`${_.N.BASE_URL}/boards/${t}/columns/${n}`)}updateColumn(t,n,o){return this.http.put(`${_.N.BASE_URL}/boards/${t}/columns/${n}`,o)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG($.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var G=l(5077),j=l(72),_e=l(1135);let E=(()=>{class i{constructor(t){this.http=t,this.filesNumber$$=new _e.X(0),this.filesNumber$=this.filesNumber$$.pipe(),this.filesArr=[]}getTasks(t,n){return this.http.get(`${_.N.BASE_URL}/boards/${t}/columns/${n}/tasks`)}getTask(t,n,o){return this.http.get(`${_.N.BASE_URL}/boards/${t}/columns/${n}/tasks/${o}`)}createTask(t,n,o){return this.http.post(`${_.N.BASE_URL}/boards/${t}/columns/${n}/tasks`,o)}updateTask(t,n,o,a){return this.http.put(`${_.N.BASE_URL}/boards/${t}/columns/${n}/tasks/${o}`,a)}deleteTask(t,n,o){return this.http.delete(`${_.N.BASE_URL}/boards/${t}/columns/${n}/tasks/${o}`)}getFilesFromTask(t,n,o){return this.getTask(t,n,o).subscribe(a=>{this.filesArr.push(a.files.length),this.filesNumber$$.next(a.files.length)}),this.filesNumber$}}return i.\u0275fac=function(t){return new(t||i)(e.LFG($.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var ae=l(8641);function be(i,r){1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Title is required")," "))}function ke(i,r){1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Description is required")," "))}let xe=(()=>{class i{constructor(t,n,o,a,c){this.dialogRef=t,this.fb=n,this.tasksApiService=o,this.dialogService=a,this.data=c,this.form=this.fb.group({title:["",[s.kI.required]],description:["",[s.kI.required]]})}onSubmit(){this.dialogRef.close({title:this.form.value.title,description:this.form.value.description})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(p.so),e.Y36(s.qu),e.Y36(E),e.Y36(ae.U),e.Y36(p.WI))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-new-task-boards-dialog"]],decls:23,vars:23,consts:[["mat-dialog-title",""],[1,"dialog-form",3,"formGroup","ngSubmit"],["appearance","fill"],["type","text","matInput","","formControlName","title",3,"placeholder"],[4,"ngIf"],["type","text","matInput","","formControlName","description",3,"placeholder"],["mat-flat-button","","type","submit","color","accent",3,"mat-dialog-close","disabled"]],template:function(t,n){if(1&t&&(e.TgZ(0,"h2",0),e._uU(1),e.ALo(2,"translate"),e.qZA(),e._UZ(3,"mat-divider"),e.TgZ(4,"mat-dialog-content")(5,"form",1),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(6,"mat-form-field",2)(7,"mat-label"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e._UZ(10,"input",3),e.ALo(11,"translate"),e.YNc(12,be,3,3,"mat-error",4),e.qZA(),e.TgZ(13,"mat-form-field",2)(14,"mat-label"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"input",5),e.ALo(18,"translate"),e.YNc(19,ke,3,3,"mat-error",4),e.qZA(),e.TgZ(20,"button",6),e._uU(21),e.ALo(22,"translate"),e.qZA()()()),2&t){let o,a;e.xp6(1),e.Oqu(e.lcZ(2,11,"BOARD.NEW_TASK_DIALOG.CREATE")),e.xp6(4),e.Q6J("formGroup",n.form),e.xp6(3),e.Oqu(e.lcZ(9,13,"BOARD.NEW_TASK_DIALOG.TITLE")),e.xp6(2),e.s9C("placeholder",e.lcZ(11,15,"BOARD.NEW_TASK_DIALOG.TITLE")),e.xp6(2),e.Q6J("ngIf",null==(o=n.form.get("title"))?null:o.hasError("required")),e.xp6(3),e.Oqu(e.lcZ(16,17,"BOARD.NEW_TASK_DIALOG.DESCRIPTION")),e.xp6(2),e.s9C("placeholder",e.lcZ(18,19,"BOARD.NEW_TASK_DIALOG.DESCRIPTION")),e.xp6(2),e.Q6J("ngIf",null==(a=n.form.get("description"))?null:a.hasError("required")),e.xp6(1),e.Q6J("mat-dialog-close",!0)("disabled",n.form.invalid),e.xp6(1),e.hij(" ",e.lcZ(22,21,"BUTTON.CREATE")," ")}},directives:[p.uh,Y.d,p.xY,s._Y,s.JL,s.sg,f.KE,f.hX,Z.Nt,s.Fj,s.JJ,s.u,g.O5,f.TO,S.lW,p.ZT],pipes:[y.X$],styles:[".dialog-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),i})();var H=l(2402),D=l(5245),x=l(1777);let Ce=(()=>{class i{constructor(t){this.http=t}upLoadFile(t){return this.http.post(`${_.N.BASE_URL}/file`,t,{responseType:"text"})}getFile(t,n){return this.http.get(`${_.N.BASE_URL}/file/${t}/${n}`,{responseType:"arraybuffer"})}}return i.\u0275fac=function(t){return new(t||i)(e.LFG($.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var ve=l(2313);function Te(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",16),e.NdJ("click",function(){return e.CHM(t),e.oxw().editTitle=!0}),e.TgZ(1,"mat-icon"),e._uU(2,"newspaper"),e.qZA(),e.TgZ(3,"h2",17),e._uU(4),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(4),e.Oqu(t.data.task.title)}}function Ae(i,r){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"mat-form-field",18),e._UZ(2,"input",19),e.TgZ(3,"mat-icon",20),e.NdJ("click",function(){return e.CHM(t),e.oxw().editTitle=!1}),e._uU(4,"close"),e.qZA()(),e.BQk()}}function Oe(i,r){if(1&i&&(e.TgZ(0,"p",21),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(t.data.task.description)}}function ye(i,r){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"mat-form-field",22),e._UZ(2,"textarea",23),e.TgZ(3,"mat-icon",20),e.NdJ("click",function(){return e.CHM(t),e.oxw().editDescription=!1}),e._uU(4,"close"),e.qZA()(),e.BQk()}}function Me(i,r){1&i&&(e.TgZ(0,"div",24)(1,"button",25),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"BUTTON.SAVE")," "))}function we(i,r){if(1&i&&(e.ynx(0),e.TgZ(1,"span",26),e._uU(2),e.qZA(),e.BQk()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(t.fileName)}}function De(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",29),e._UZ(1,"img",30),e.TgZ(2,"p",31),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw(2).onOpenFile(a.filename)}),e._uU(3),e.qZA(),e.TgZ(4,"button",32),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw(2).onDownloadFile(a.filename)}),e._uU(5),e.ALo(6,"translate"),e.qZA()()}if(2&i){const t=r.$implicit;e.xp6(1),e.Q6J("src",t.fileUrl,e.LSH),e.xp6(2),e.Oqu(t.filename),e.xp6(2),e.Oqu(e.lcZ(6,3,"BUTTON.DOWNLOAD"))}}function Ie(i,r){if(1&i&&(e.ynx(0),e.TgZ(1,"div",27),e.YNc(2,De,7,5,"div",28),e.qZA(),e.BQk()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.data.taskFiles)}}let re=(()=>{class i{constructor(t,n,o,a,c,b,I){this.dialogRef=t,this.fb=n,this.fileService=o,this.sanitizer=a,this.changeDetectorRef=c,this.taskService=b,this.data=I,this.editDescription=!1,this.editTitle=!1,this.editDone=!1,this.editTaskForm=this.fb.group({title:[`${this.data.task.title}`],description:[`${this.data.task.description}`||""]}),this.selectFile=!1,this.fileName=""}ngOnInit(){this.taskService.getTask(this.data.boardId,this.data.columnId,this.data.task.id).subscribe(t=>{this.changeDetectorRef.markForCheck(),this.data.taskFiles=t.files,this.getFiles()})}onSubmit(){this.dialogRef.close({title:this.editTaskForm.value.title,description:this.editTaskForm.value.description,done:this.data.task.done})}onSelectFile(t){const{target:{files:n}}=t;[this.selectedFile]=n,t.target.files&&(this.fileName=this.selectedFile.name,(new FileReader).readAsDataURL(this.selectedFile),this.selectFile=!0)}getFiles(){this.data.taskFiles.forEach((t,n)=>{this.fileService.getFile(this.data.task.id,t.filename).subscribe(o=>{const a=i.typedArrayToURL(o,"image/jpeg; charset=utf-8");this.changeDetectorRef.markForCheck(),this.fileUrl=this.sanitizer.bypassSecurityTrustUrl(a),this.data.taskFiles[n].fileUrl=this.fileUrl})})}onUpLoad(){const t=new FormData;t.set("taskId",this.data.task.id),t.set("file",this.selectedFile),this.fileService.upLoadFile(t).subscribe(()=>{this.taskService.getTask(this.data.boardId,this.data.columnId,this.data.task.id).subscribe(n=>{this.data.taskFiles=n.files,this.changeDetectorRef.markForCheck(),this.getFiles()}),this.selectFile=!1})}onOpenFile(t){this.fileService.getFile(this.data.task.id,t).subscribe(n=>{const o=i.typedArrayToURL(n,"image/jpeg; charset=utf-8");window.open(o)})}onDownloadFile(t){this.fileService.getFile(this.data.task.id,t).subscribe(n=>{const o=new Blob([n],{type:"image/jpeg; charset=utf-8"});C()(o,t)})}static typedArrayToURL(t,n){return window.URL.createObjectURL(new Blob([t],{type:n}))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(p.so),e.Y36(s.qu),e.Y36(Ce),e.Y36(ve.H7),e.Y36(e.sBO),e.Y36(E),e.Y36(p.WI))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-task-edit-boards-dialog"]],decls:35,vars:23,consts:[[1,"container"],["value","after",1,"checkbox",3,"ngModel","ngModelChange","click"],[3,"formGroup","ngSubmit"],[1,"user"],["class","title-container",3,"click",4,"ngIf"],[4,"ngIf"],[1,"description-container",3,"click"],[1,"description"],[1,"spacer"],["class","task-description",4,"ngIf"],["class","edit-btns",4,"ngIf"],[1,"title-container","file"],["type","button","mat-button","",3,"click"],["hidden","","type","file",3,"change"],["fileInput",""],["mat-button","","color","primary","type","button",3,"disabled","click"],[1,"title-container",3,"click"],["mat-dialog-title",""],[1,"edit-form","edit-title"],["type","text","matInput","","formControlName","title"],["matSuffix","",1,"close-btn",3,"click"],[1,"task-description"],["appearance","fill",1,"edit-form"],["matInput","","formControlName","description","rows","5"],[1,"edit-btns"],["mat-button","","color","primary","type","submit","mat-dialog-close","true"],[1,"file-name"],[1,"file-container"],["class","file-details",4,"ngFor","ngForOf"],[1,"file-details"],["alt","",3,"src"],[1,"file-name",3,"click"],["mat-button","","color","accent","type","button",3,"click"]],template:function(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"mat-dialog-content",0)(1,"mat-checkbox",1),e.NdJ("ngModelChange",function(c){return n.data.task.done=c})("click",function(){return n.editDone=!0}),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"form",2),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(5,"div",3)(6,"mat-icon"),e._uU(7,"person"),e.qZA(),e.TgZ(8,"p"),e._uU(9),e.qZA()(),e.YNc(10,Te,5,1,"div",4),e.YNc(11,Ae,5,0,"ng-container",5),e.TgZ(12,"div",6),e.NdJ("click",function(){return n.editDescription=!0}),e.TgZ(13,"mat-icon"),e._uU(14,"subject"),e.qZA(),e.TgZ(15,"h3",7),e._uU(16),e.ALo(17,"translate"),e.qZA(),e._UZ(18,"div",8),e.qZA(),e.YNc(19,Oe,2,1,"p",9),e.YNc(20,ye,5,0,"ng-container",5),e.YNc(21,Me,4,3,"div",10),e.TgZ(22,"div",11)(23,"button",12),e.NdJ("click",function(){return e.CHM(o),e.MAs(29).click()}),e.TgZ(24,"mat-icon"),e._uU(25,"attach_file"),e.qZA(),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"input",13,14),e.NdJ("change",function(c){return n.onSelectFile(c)}),e.qZA(),e.TgZ(30,"button",15),e.NdJ("click",function(){return n.onUpLoad()}),e._uU(31),e.ALo(32,"translate"),e.qZA()(),e.YNc(33,we,3,1,"ng-container",5),e.YNc(34,Ie,3,1,"ng-container",5),e.qZA()()}if(2&t){const o=e.MAs(29);e.xp6(1),e.Q6J("ngModel",n.data.task.done),e.xp6(1),e.hij(" ",e.lcZ(3,15,"BOARD.EDIT_DIALOG.DONE"),""),e.xp6(2),e.Q6J("formGroup",n.editTaskForm),e.xp6(5),e.Oqu(n.data.userName),e.xp6(1),e.Q6J("ngIf",!n.editTitle),e.xp6(1),e.Q6J("ngIf",n.editTitle),e.xp6(5),e.hij(" ",e.lcZ(17,17,"BOARD.EDIT_DIALOG.DESCR"),""),e.xp6(3),e.Q6J("ngIf",!n.editDescription),e.xp6(1),e.Q6J("ngIf",n.editDescription),e.xp6(1),e.Q6J("ngIf",n.editDescription||n.editTitle||n.editDone),e.xp6(5),e.Oqu(e.lcZ(27,19,"BUTTON.CHOOSE")),e.xp6(4),e.Q6J("disabled",!o.value),e.xp6(1),e.Oqu(e.lcZ(32,21,"BUTTON.UPLOAD")),e.xp6(2),e.Q6J("ngIf",n.selectFile),e.xp6(1),e.Q6J("ngIf",n.data.taskFiles)}},directives:[p.xY,V,s.JJ,s.On,s._Y,s.JL,s.sg,D.Hw,g.O5,p.uh,f.KE,Z.Nt,s.Fj,s.u,f.R9,S.lW,p.ZT,g.sg],pipes:[y.X$],styles:[".user[_ngcontent-%COMP%], .title-container[_ngcontent-%COMP%], .file-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;text-align:center;overflow:hidden;text-overflow:ellipsis;margin-bottom:10px}.user[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .title-container[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .file-container[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin:0}.user[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .title-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .file-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 0 10px;overflow:hidden;text-overflow:ellipsis}.user[_ngcontent-%COMP%]:hover, .title-container[_ngcontent-%COMP%]:hover, .file-container[_ngcontent-%COMP%]:hover{cursor:pointer;color:#663bb8}.user[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .title-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .file-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 0 10px}.checkbox[_ngcontent-%COMP%]{margin-top:10px;font-weight:700}.mat-dialog-title[_ngcontent-%COMP%]{font-size:24px}.description-container[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;justify-content:flex-start;gap:10px;text-align:center;margin-bottom:10px}.description-container[_ngcontent-%COMP%]:hover{cursor:pointer;color:#663bb8}.description-container[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:18px;font-weight:700;text-align:center;margin:0}.spacer[_ngcontent-%COMP%]{flex-grow:1}.edit-form[_ngcontent-%COMP%]{width:100%}.edit-title[_ngcontent-%COMP%]{font-size:16px}.task-description[_ngcontent-%COMP%]{text-align:start;margin-left:35px;overflow-wrap:break-word}.edit-btns[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.close-btn[_ngcontent-%COMP%]{transition:transform .2s ease-in-out}.file[_ngcontent-%COMP%]{justify-content:space-between;width:100%;margin-top:30px}.file-container[_ngcontent-%COMP%]{flex-direction:column;margin-top:15px}.file-container[_ngcontent-%COMP%]   .file-details[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;row-gap:10px;width:100%;box-sizing:border-box;cursor:pointer;margin:0;min-height:80px;padding:8px;z-index:0}.file-container[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{display:flex;width:50%;font-size:14px;text-align:start;text-overflow:ellipsis}img[_ngcontent-%COMP%]{background-position:50%;background-repeat:no-repeat;background-size:contain;border-radius:3px;height:80px;text-align:center;width:112px;margin:0;z-index:1}"],changeDetection:0}),i})();function Ze(i,r){if(1&i&&(e.TgZ(0,"div",1)(1,"mat-icon",4),e._uU(2,"attach_file"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.qZA()()),2&i){const t=e.oxw();e.xp6(4),e.Oqu(t.fileNumber)}}let Se=(()=>{class i{constructor(t,n,o,a){this.tasksApiService=t,this.activatedRoute=n,this.dialog=o,this.userApiService=a,this.deletedTask=new e.vpe,this.animationStatus="start"}ngOnInit(){this.boardId=this.activatedRoute.snapshot.params.id,this.taskIsDone=this.task.done,this.userApiService.getAllUsers().subscribe(t=>{this.userName=t.filter(n=>n.id===this.task.userId).map(n=>n.name)}),this.tasksApiService.filesNumber$.subscribe()}startAnimation(){this.animationStatus="end"}stopAnimation(){this.animationStatus="start"}deleteTask(t){t.stopPropagation(),this.deletedTask.emit({id:this.task.id,order:this.task.order})}openTaskEditDialog(){this.dialog.open(re,{data:{task:this.task,columnId:this.column.id,boardId:this.boardId,taskFiles:this.task.files,userName:this.userName},width:"500px"}).afterClosed().subscribe(n=>{if(void 0===n)return void(void 0!==this.taskIsDone&&(this.task.done=this.taskIsDone));const{title:o}=n,{description:a}=n,{done:c}=n;this.task.title===o&&this.task.description===a&&this.task.done===this.taskIsDone||(this.tasksApiService.updateTask(this.boardId,this.column.id,this.task.id,{title:o,order:this.task.order,description:a,userId:this.task.userId,boardId:this.boardId,columnId:this.task.columnId,done:c}).subscribe(),this.task.title=n.title,this.task.description=n.description)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(E),e.Y36(T.gz),e.Y36(p.uw),e.Y36(H.Q))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-column-task"]],inputs:{task:"task",column:"column",fileNumber:"fileNumber"},outputs:{deletedTask:"deletedTask"},decls:6,vars:5,consts:[[1,"task-box",3,"click","mouseenter","mouseleave"],[1,"task-item"],["class","task-item",4,"ngIf"],[3,"click"],[1,"file-icon"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.NdJ("click",function(){return n.openTaskEditDialog()})("mouseenter",function(){return n.startAnimation()})("mouseleave",function(){return n.stopAnimation()}),e.TgZ(1,"div",1),e._uU(2),e.qZA(),e.YNc(3,Ze,5,1,"div",2),e.TgZ(4,"mat-icon",3),e.NdJ("click",function(a){return n.deleteTask(a)}),e._uU(5,"close"),e.qZA()()),2&t&&(e.ekj("done",n.task.done),e.xp6(2),e.Oqu(n.task.title),e.xp6(1),e.Q6J("ngIf",0!==n.fileNumber),e.xp6(1),e.Q6J("@hovered",n.animationStatus))},directives:[g.O5,D.Hw],styles:[".task-box[_ngcontent-%COMP%]{position:relative;padding:15px 10px;border-bottom:solid 1px #ccc;color:#000000de;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;box-sizing:border-box;cursor:move;background:white;font-size:14px;text-overflow:ellipsis}.task-box[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{margin:5px 10px}.task-box[_ngcontent-%COMP%]:hover{background-color:#ebecf0}.task-box[_ngcontent-%COMP%]   .task-item[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.task-box[_ngcontent-%COMP%]   .task-item[_ngcontent-%COMP%]   .file-icon[_ngcontent-%COMP%]{position:relative;margin:0}.task-box[_ngcontent-%COMP%]   .task-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0;color:#daa520;font-size:12px}.mat-icon[_ngcontent-%COMP%]{position:absolute;right:10px;cursor:pointer;opacity:.5;transition:all .2s ease-in-out}.mat-icon[_ngcontent-%COMP%]:hover{opacity:1;color:#663bb8;transform:scale(1.2)}.done[_ngcontent-%COMP%]{background-color:#ffd740b3}.checkbox[_ngcontent-%COMP%]{max-width:30px;margin:0}"],data:{animation:[(0,x.X$)("hovered",[(0,x.SB)("start",(0,x.oB)({visibility:"hidden"})),(0,x.SB)("end",(0,x.oB)({visibility:"visible"})),(0,x.eR)("start <=> end",(0,x.jt)("0s ease-out"))])]}}),i})();function Be(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",6),e.NdJ("click",function(){return e.CHM(t),e.oxw().toggleColumnInput()}),e.TgZ(1,"h2"),e._uU(2),e.qZA(),e.TgZ(3,"mat-icon",7),e.NdJ("click",function(o){return e.CHM(t),e.oxw().deleteColumn(o)}),e._uU(4,"delete"),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(2),e.Oqu(t.column.title)}}function Pe(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"mat-form-field",8)(1,"input",9),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().newColumnTitle=o})("keyup.enter",function(){return e.CHM(t),e.oxw().updateColumnName()}),e.qZA(),e.TgZ(2,"button",10),e.NdJ("click",function(){return e.CHM(t),e.oxw().updateColumnName()}),e.TgZ(3,"mat-icon"),e._uU(4,"done"),e.qZA()(),e.TgZ(5,"button",10),e.NdJ("click",function(){return e.CHM(t),e.oxw().toggleColumnInput()}),e.TgZ(6,"mat-icon"),e._uU(7,"close"),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.newColumnTitle)}}function Ne(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"app-column-task",11),e.NdJ("deletedTask",function(o){return e.CHM(t),e.oxw().openConfirmationModal(o)}),e.qZA()}if(2&i){const t=r.$implicit,n=e.oxw();e.Q6J("cdkDragData",t)("task",t)("fileNumber",t.files.length)("column",n.column)}}let Ee=(()=>{class i{constructor(t,n,o,a,c,b){this.tasksApiService=t,this.columnApiService=n,this.activatedRoute=o,this.dialog=a,this.dialogService=c,this.userService=b,this.deletedColumn=new e.vpe,this.editColumnInput=!1}ngOnInit(){this.boardId=this.activatedRoute.snapshot.params.id,this.newColumnTitle=this.column.title,this.column.tasks=this.column.tasks.sort((t,n)=>t.order-n.order)}getTasks(){this.tasksApiService.getTasks(this.boardId,this.column.id).pipe((0,te.q)(1)).subscribe(t=>{this.column.tasks=t.sort((n,o)=>n.order-o.order)})}deleteColumn(t){t.stopPropagation(),this.deletedColumn.emit({order:this.column.order,id:this.column.id})}updateColumnName(){this.newColumnTitle&&this.newColumnTitle!==this.column.title&&this.columnApiService.updateColumn(this.boardId,this.column.id,{title:this.newColumnTitle.trim(),order:this.column.order}).subscribe(),this.column.title=this.newColumnTitle,this.toggleColumnInput()}openConfirmationModal(t){this.dialogService.confirmDialog({param:"CONFIRM.paramTask"}).subscribe(n=>{n&&this.deleteTask(t)})}deleteTask(t){this.tasksApiService.deleteTask(this.boardId,this.column.id,t.id).subscribe(()=>{this.column.tasks.splice(t.order-1,1),this.column.tasks=this.column.tasks.map((n,o)=>({id:n.id,title:n.title,done:n.done,userId:n.userId,description:n.description,files:n.files,order:o+1})),this.updateTasksOrder(this.column.tasks,this.column.id)})}toggleColumnInput(){this.editColumnInput=!this.editColumnInput}openNewTaskDialog(){this.dialog.open(xe,{data:{taskOrder:this.column.tasks.length+1,columnId:this.column.id,boardId:this.boardId}}).afterClosed().subscribe(n=>{var o;void 0!==n&&this.tasksApiService.createTask(this.boardId,this.column.id,{title:n.title,description:n.description,userId:null===(o=this.userService.currentUser)||void 0===o?void 0:o.id,order:this.column.tasks.length+1,done:!1}).subscribe(()=>this.getTasks())})}getConnectedList(){return this.columnsArr.map(t=>`${t.order}`)}dropItem(t){const n=t.item.data,a=this.columnsArr.filter(c=>c.tasks.includes(n))[0].id;t.previousContainer===t.container?((0,O.bA)(t.container.data,t.previousIndex,t.currentIndex),this.updateTasksOrder(t.container.data,this.column.id)):((0,O.EA)(t.previousContainer.data,t.container.data,t.previousIndex,t.currentIndex),this.tasksApiService.updateTask(this.boardId,a,n.id,{title:n.title,order:t.container.data.indexOf(n)+1,userId:n.userId,description:n.description,boardId:this.boardId,columnId:this.column.id,done:!1}).subscribe(()=>{this.updateTasksOrder(t.container.data,this.column.id)}))}updateTasksOrder(t,n){t.forEach((o,a)=>{this.tasksApiService.updateTask(this.boardId,n,o.id,{title:o.title,order:a+1,description:o.description,userId:o.userId,boardId:this.boardId,columnId:n,done:!1}).subscribe()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(E),e.Y36(z),e.Y36(T.gz),e.Y36(p.uw),e.Y36(G.x),e.Y36(H.Q))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-board-column"]],inputs:{column:"column",columnsArr:"columnsArr"},outputs:{deletedColumn:"deletedColumn"},decls:11,vars:9,consts:[[1,"column-container"],["class","column-title-container",3,"click",4,"ngIf"],["class","form-field",4,"ngIf"],["cdkDropList","",1,"tasks-list",3,"id","cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["cdkDrag","",3,"cdkDragData","task","fileNumber","column","deletedTask",4,"ngFor","ngForOf"],["cdkDropList","","cdkDropListDisabled","",1,"new-task",3,"click"],[1,"column-title-container",3,"click"],[3,"click"],[1,"form-field"],["matInput","","type","text",3,"ngModel","ngModelChange","keyup.enter"],["matPrefix","","mat-icon-button","",3,"click"],["cdkDrag","",3,"cdkDragData","task","fileNumber","column","deletedTask"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Be,5,1,"div",1),e.YNc(2,Pe,8,1,"mat-form-field",2),e.TgZ(3,"div",3),e.NdJ("cdkDropListDropped",function(a){return n.dropItem(a)}),e.YNc(4,Ne,1,4,"app-column-task",4),e.TgZ(5,"div",5),e.NdJ("click",function(){return n.openNewTaskDialog()}),e.TgZ(6,"mat-icon"),e._uU(7,"add"),e.qZA(),e.TgZ(8,"div"),e._uU(9),e.ALo(10,"translate"),e.qZA()()()()),2&t&&(e.xp6(1),e.Q6J("ngIf",!n.editColumnInput),e.xp6(1),e.Q6J("ngIf",n.editColumnInput),e.xp6(1),e.s9C("id",n.column.order),e.Q6J("cdkDropListData",n.column.tasks)("cdkDropListConnectedTo",n.getConnectedList()),e.xp6(1),e.Q6J("ngForOf",n.column.tasks),e.xp6(5),e.Oqu(e.lcZ(10,7,"BUTTON.ADD_TASK")))},directives:[g.O5,D.Hw,f.KE,Z.Nt,s.Fj,s.JJ,s.On,S.lW,f.qo,O.Wj,g.sg,Se,O.Zt],pipes:[y.X$],styles:[".column-container[_ngcontent-%COMP%]{width:300px;max-width:100%;margin:0 25px 25px 0;display:inline-block;vertical-align:top;overflow-y:hidden;height:calc(100vh - 128px)}.column-title-container[_ngcontent-%COMP%]{position:relative}.column-title-container[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{position:absolute;right:0;top:0;transition:all .2s ease-in-out;opacity:.1}.column-title-container[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:1;color:#663bb8;transform:scale(1.2)}h2[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;height:45px;margin:0 0 20px;padding-top:20.5px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:color .2s ease-in-out}h2[_ngcontent-%COMP%]:hover{color:#663bb8}.tasks-list[_ngcontent-%COMP%]{min-height:60px;max-height:calc(100% - 80px);border-radius:4px;display:block;overflow:scroll}.new-task[_ngcontent-%COMP%]{padding:15px 10px;color:#fff;background-color:#663bb84d;display:flex;gap:15px;flex-direction:row;align-items:center;justify-content:flex-start;cursor:pointer;font-size:14px;text-overflow:ellipsis;transition:font-size .2s ease-in-out}.new-task[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{margin:0 10px}.new-task[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{transition:transform .2s ease-in-out}.new-task[_ngcontent-%COMP%]:hover{color:#663bb8;font-size:16px}.new-task[_ngcontent-%COMP%]:hover   .mat-icon[_ngcontent-%COMP%]{transform:scale(1.2)}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.form-field[_ngcontent-%COMP%]{width:100%;transition:color .2s ease-in-out}.form-field[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:hover{color:#663bb8}@media (max-width: 530px){.column-container[_ngcontent-%COMP%]{width:280px}}"]}),i})();function Fe(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"app-board-column",7),e.NdJ("deletedColumn",function(o){const c=e.CHM(t).index;return e.oxw(2).openConfirmationModal(c,o)}),e.qZA()}if(2&i){const t=r.$implicit,n=e.oxw(2);e.Q6J("cdkDragData",t)("column",t)("columnsArr",n.columnsArray)}}function Le(i,r){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",4),e.NdJ("cdkDropListDropped",function(o){return e.CHM(t),e.oxw().dropGroup(o)}),e.YNc(2,Fe,1,3,"app-board-column",5),e.TgZ(3,"div",6),e.NdJ("click",function(){return e.CHM(t),e.oxw().openNewColumnDialog()}),e.TgZ(4,"mat-icon"),e._uU(5,"add"),e.qZA(),e.TgZ(6,"div"),e._uU(7),e.ALo(8,"translate"),e.qZA()()(),e.BQk()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("cdkDropListData",t.columnsArray),e.xp6(1),e.Q6J("ngForOf",t.columnsArray),e.xp6(5),e.Oqu(e.lcZ(8,3,"BUTTON.ADD_COLUMN"))}}let Re=(()=>{class i{constructor(t,n,o,a,c,b){this.columnApiService=t,this.activatedRoute=n,this.dialogService=o,this.dialog=a,this.fileSaver=c,this.spinner=b,this.columnsArray=[],this.maxOrder=1}ngOnInit(){this.boardId=this.activatedRoute.snapshot.params.id,this.getColumns()}ngDoCheck(){this.columnsOrderArr=this.columnsArray.map(t=>t.order),this.maxOrder=Math.max.apply(null,this.columnsOrderArr)}openConfirmationModal(t,n){this.dialogService.confirmDialog({param:"CONFIRM.paramColumn"}).subscribe(o=>{o&&this.deleteColumn(t,n)})}deleteColumn(t,n){const o=t;this.columnApiService.deleteColumn(this.boardId,n.id).subscribe(()=>{this.columnsArray.splice(o,1),this.updateColumnsOrder()})}updateColumnsOrder(){this.columnsArray.forEach(t=>{this.columnApiService.updateColumn(this.boardId,t.id,{title:t.title,order:t.order}).pipe((0,te.q)(1)).subscribe()})}openNewColumnDialog(){this.dialog.open(fe).afterClosed().subscribe(n=>{void 0!==n&&(0===this.columnsOrderArr.length&&(this.maxOrder=1),this.columnApiService.createColumn(this.boardId,{title:n.columnTitle,order:this.columnsArray.length+this.maxOrder}).subscribe(o=>{o.tasks=[],this.columnsArray.push(o)}))})}dropGroup(t){(0,O.bA)(this.columnsArray,t.previousIndex,t.currentIndex),this.columnsArray.forEach((n,o)=>{this.order=t.currentIndex>t.previousIndex?t.currentIndex===o?this.maxOrder+2*t.currentIndex:this.maxOrder+t.currentIndex+o:t.currentIndex===o?this.maxOrder+t.currentIndex+t.previousIndex:this.maxOrder+t.previousIndex+o,this.columnsArray[o].order=this.order}),this.updateColumnsOrder()}getConnectedList(){return this.columnsArray.map(t=>`${t.order}`)}getColumns(){this.spinner.show(),this.columnApiService.getColumns(this.boardId).pipe((0,ne.w)(t=>(0,ie.D)(t.map(n=>this.columnApiService.getColumn(this.boardId,n.id)))),(0,oe.x)(()=>this.spinner.hide())).subscribe(t=>{this.columnsArray=t.sort((n,o)=>n.order-o.order)})}downloadFile(){const t=`${this.columnsArray.map(c=>c.title).join(";")}\n`,n=Math.max.apply(null,this.columnsArray.map(c=>c.tasks.length)),o=[];for(let c=0;c<n;c+=1){const b=[];for(let I=0;I<this.columnsArray.length;I+=1){const W=this.columnsArray[I].tasks[c];b.push(W?`Title: ${W.title} - Description: ${W.description}`:"")}o.push(`${b.join(";")}\n`)}const a=new Blob([t+o.join("")],{type:"text/csv"});this.fileSaver.save(a,"board.csv")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(z),e.Y36(T.gz),e.Y36(G.x),e.Y36(p.uw),e.Y36(R),e.Y36(j.t2))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-board-page"]],decls:8,vars:2,consts:[[4,"ngIf"],[1,"back-btn","bottom-btn",3,"routerLink"],[1,"save-btn","bottom-btn",3,"click"],["bdColor","rgba(51,51,51,0.8)","size","medium","color","#fff","type","square-jelly-box"],["cdkDropList","","cdkDropListOrientation","horizontal",1,"container",3,"cdkDropListData","cdkDropListDropped"],["class","column","cdkDropListGroup","","cdkDrag","",3,"cdkDragData","column","columnsArr","deletedColumn",4,"ngFor","ngForOf"],[1,"new-column",3,"click"],["cdkDropListGroup","","cdkDrag","",1,"column",3,"cdkDragData","column","columnsArr","deletedColumn"]],template:function(t,n){1&t&&(e.YNc(0,Le,9,5,"ng-container",0),e.TgZ(1,"button",1)(2,"mat-icon"),e._uU(3,"arrow_back"),e.qZA()(),e.TgZ(4,"button",2),e.NdJ("click",function(){return n.downloadFile()}),e.TgZ(5,"mat-icon"),e._uU(6,"save"),e.qZA()(),e._UZ(7,"ngx-spinner",3)),2&t&&(e.Q6J("ngIf",n.columnsArray),e.xp6(1),e.Q6J("routerLink","/boards"))},directives:[g.O5,O.Wj,g.sg,Ee,O.Fd,O.Zt,D.Hw,T.rH,j.Ro],pipes:[y.X$],styles:[".container[_ngcontent-%COMP%]{padding:80px 20px 20px;height:100vh;display:flex;overflow-y:hidden;background-color:#663bb81a;justify-content:flex-start}.column[_ngcontent-%COMP%]{margin:0}.new-column[_ngcontent-%COMP%]{display:flex;margin:0;align-items:center;justify-content:center;background-color:#0000000a;border-radius:4px;height:60px;min-width:300px;gap:10px;transition:all .2s ease-in-out}.new-column[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{margin:0}.new-column[_ngcontent-%COMP%]:hover{font-size:18px;cursor:pointer;background-color:#663bb84d;color:#663bb8}.bottom-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;bottom:10px;z-index:99;border:none;background-color:#663bb84d;color:#fff;cursor:pointer;height:45px;width:45px;font-size:24px;border-radius:50%;transition:all .2s ease-in-out}.bottom-btn[_ngcontent-%COMP%]:hover{color:#663bb8;transform:scale(1.2)}.back-btn[_ngcontent-%COMP%]{left:20px}.save-btn[_ngcontent-%COMP%]{right:20px}@media (max-width: 530px){.new-column[_ngcontent-%COMP%]{min-width:275px}}"]}),i})(),X=(()=>{class i{constructor(t){this.http=t}getBoards(){return this.http.get(`${_.N.BASE_URL}/boards`)}createBoard(t,n){return this.http.post(`${_.N.BASE_URL}/boards`,{title:t,description:n})}updateBoard(t,n){return this.http.put(`${_.N.BASE_URL}/boards/${t}`,{title:n})}getBoard(t){return this.http.get(`${_.N.BASE_URL}/boards/${t}`)}deleteBoard(t){return this.http.delete(`${_.N.BASE_URL}/boards/${t}`)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG($.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Ue(i,r){1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Title is required")," "))}function qe(i,r){1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Title is required")," "))}let Je=(()=>{class i{constructor(t,n,o,a){this.dialogRef=t,this.fb=n,this.activatedRoute=o,this.boardsApiService=a,this.form=this.fb.group({title:["",[s.kI.required]],description:["",[s.kI.required]]}),this.boardId=""}ngOnInit(){this.boardId=this.activatedRoute.snapshot.params.id}onSubmit(){this.dialogRef.close({title:this.form.value.title,description:this.form.value.description})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(p.so),e.Y36(s.qu),e.Y36(T.gz),e.Y36(X))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-boards-dialog"]],decls:23,vars:22,consts:[["mat-dialog-title",""],[1,"mat-typography"],[1,"dialog-form",3,"formGroup","ngSubmit"],["appearance","fill"],["type","text","matInput","","formControlName","title",3,"placeholder"],[4,"ngIf"],["type","text","matInput","","formControlName","description",3,"placeholder"],["mat-flat-button","","type","submit","color","accent",3,"mat-dialog-close"]],template:function(t,n){if(1&t&&(e.TgZ(0,"h2",0),e._uU(1),e.ALo(2,"translate"),e.qZA(),e._UZ(3,"mat-divider"),e.TgZ(4,"mat-dialog-content",1)(5,"form",2),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(6,"mat-form-field",3)(7,"mat-label"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e._UZ(10,"input",4),e.ALo(11,"translate"),e.YNc(12,Ue,3,3,"mat-error",5),e.qZA(),e.TgZ(13,"mat-form-field",3)(14,"mat-label"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"input",6),e.ALo(18,"translate"),e.YNc(19,qe,3,3,"mat-error",5),e.qZA(),e.TgZ(20,"button",7),e._uU(21),e.ALo(22,"translate"),e.qZA()()()),2&t){let o,a;e.xp6(1),e.hij(" ",e.lcZ(2,10,"BOARD.NEW_BOARD_DIALOG.CREATE"),"\n"),e.xp6(4),e.Q6J("formGroup",n.form),e.xp6(3),e.Oqu(e.lcZ(9,12,"BOARD.NEW_BOARD_DIALOG.TITLE")),e.xp6(2),e.s9C("placeholder",e.lcZ(11,14,"BOARD.NEW_BOARD_DIALOG.TITLE")),e.xp6(2),e.Q6J("ngIf",null==(o=n.form.get("title"))?null:o.hasError("required")),e.xp6(3),e.Oqu(e.lcZ(16,16,"BOARD.NEW_BOARD_DIALOG.DESCRIPTION")),e.xp6(2),e.s9C("placeholder",e.lcZ(18,18,"BOARD.NEW_BOARD_DIALOG.DESCRIPTION")),e.xp6(2),e.Q6J("ngIf",null==(a=n.form.get("description"))?null:a.hasError("required")),e.xp6(1),e.Q6J("mat-dialog-close",!0),e.xp6(1),e.hij(" ",e.lcZ(22,20,"BUTTON.CREATE")," ")}},directives:[p.uh,Y.d,p.xY,s._Y,s.JL,s.sg,f.KE,f.hX,Z.Nt,s.Fj,s.JJ,s.u,g.O5,f.TO,S.lW,p.ZT],pipes:[y.X$],styles:[".dialog-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.dialog-form[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{margin-bottom:10px}.dialog-form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),i})();var Ye=l(2976),v=l(9224),se=l(4004);function $e(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",5),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return o.searchValue="",o.foundTasks=[]}),e.TgZ(1,"mat-icon"),e._uU(2,"close"),e.qZA()()}}function je(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"mat-card",8),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw(2).goToTask(a)}),e.TgZ(1,"mat-card-header")(2,"mat-card-title"),e._uU(3),e.qZA()(),e.TgZ(4,"mat-card-content"),e._uU(5),e.qZA()()}if(2&i){const t=r.$implicit;e.xp6(3),e.Oqu(null==t?null:t.title),e.xp6(2),e.Oqu(null==t?null:t.description)}}function Qe(i,r){if(1&i&&(e.TgZ(0,"mat-card",6),e.YNc(1,je,6,2,"mat-card",7),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.foundTasks)}}let ze=(()=>{class i{constructor(t,n,o,a,c,b){this.boardsApiService=t,this.taskApiService=n,this.columnApiService=o,this.userApiService=a,this.router=c,this.dialog=b,this.searchValue="",this.foundTasks=[],this.users=[]}ngOnInit(){this.getTasks(),this.userApiService.getAllUsers().subscribe(t=>this.users=t)}getTasks(){var t;(null===(t=this.allTasks)||void 0===t?void 0:t.length)||this.boardsApiService.getBoards().pipe((0,ne.w)(n=>(0,ie.D)(n.map(o=>this.boardsApiService.getBoard(o.id).pipe((0,se.U)(a=>a.columns.map(c=>c.tasks).map(c=>c.map(b=>Object.assign(Object.assign({},b),{boardId:o.id})))))))),(0,se.U)(n=>n.flat(2))).subscribe(n=>this.allTasks=n)}searchTask(t){var n;if(!t)return void(this.foundTasks=[]);t=t.toLowerCase().trim();const o=null===(n=this.users)||void 0===n?void 0:n.filter(a=>a.name.includes(t)).map(a=>a.id);this.foundTasks=this.allTasks.filter(a=>{var c;return(null==a?void 0:a.title.includes(t))||(null===(c=null==a?void 0:a.description)||void 0===c?void 0:c.includes(t))||o.some(b=>b===a.userId)})}goToTask(t){t.boardId&&this.router.navigate(["/boards",t.boardId]),this.dialog.open(re,{data:{task:t,columnId:t.columnId,boardId:t.boardId},width:"500px"}).afterClosed().subscribe(o=>{if(void 0===o)return;let a;t.columnId&&(a=t.columnId,this.taskApiService.updateTask(t.boardId,a,t.id,{title:o.title,order:t.order,description:o.description,userId:t.userId,boardId:t.boardId,columnId:t.columnId,done:!1}).subscribe())})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(X),e.Y36(E),e.Y36(z),e.Y36(H.Q),e.Y36(T.F0),e.Y36(p.uw))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-global-search"]],decls:9,vars:6,consts:[["appearance","outline",1,"search"],["matInput","","type","text",3,"ngModel","ngModelChange","input"],["matSuffix","","mat-icon-button","","aria-label","search",3,"click",4,"ngIf"],["matPrefix",""],["class","cards-container",4,"ngIf"],["matSuffix","","mat-icon-button","","aria-label","search",3,"click"],[1,"cards-container"],["class","card",3,"click",4,"ngFor","ngForOf"],[1,"card",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-form-field",0)(1,"mat-label"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"input",1),e.NdJ("ngModelChange",function(a){return n.searchValue=a})("input",function(){return n.searchTask(n.searchValue)}),e.qZA(),e.YNc(5,$e,3,0,"button",2),e.TgZ(6,"mat-icon",3),e._uU(7,"search"),e.qZA(),e.YNc(8,Qe,2,1,"mat-card",4),e.qZA()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,4,"SEARCH")),e.xp6(2),e.Q6J("ngModel",n.searchValue),e.xp6(1),e.Q6J("ngIf",n.searchValue),e.xp6(3),e.Q6J("ngIf",n.foundTasks.length))},directives:[f.KE,f.hX,Z.Nt,s.Fj,s.JJ,s.On,g.O5,S.lW,f.R9,D.Hw,f.qo,v.a8,g.sg,v.dk,v.n5,v.dn],pipes:[y.X$],styles:[".search[_ngcontent-%COMP%]{position:relative;width:200px}.cards-container[_ngcontent-%COMP%]{background-color:#fff;position:absolute;top:110%;width:200px;right:-53px;max-height:250px;overflow:scroll;display:flex;flex-direction:column;gap:10px;z-index:1000}.mat-form-field[_ngcontent-%COMP%]{height:60px}.card[_ngcontent-%COMP%]{width:100%;background-color:#663bb84d;cursor:pointer}.card[_ngcontent-%COMP%]:hover{background-color:#663bb8}.mat-card-title[_ngcontent-%COMP%]{color:#fff}"]}),i})(),Ge=(()=>{class i{constructor(t){this.router=t,this.deleteBoardPreview=new e.vpe,this.animationStatus="start"}startAnimation(){this.animationStatus="end"}stopAnimation(){this.animationStatus="start"}onDelete(t){t.stopPropagation(),this.deleteBoardPreview.emit(t)}goToBoard(t){this.router.navigate(["/boards",t])}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(T.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-board-preview"]],inputs:{board:"board"},outputs:{deleteBoardPreview:"deleteBoardPreview"},decls:9,vars:3,consts:[[1,"board-preview",3,"mouseenter","mouseleave","click"],[1,"delete-btn",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-card",0),e.NdJ("mouseenter",function(){return n.startAnimation()})("mouseleave",function(){return n.stopAnimation()})("click",function(){return n.goToBoard(null==n.board?null:n.board.id)}),e.TgZ(1,"mat-card-header")(2,"mat-card-title"),e._uU(3),e.qZA()(),e.TgZ(4,"mat-card-content")(5,"p"),e._uU(6),e.qZA()(),e.TgZ(7,"mat-icon",1),e.NdJ("click",function(a){return n.onDelete(a)}),e._uU(8,"highlight_off"),e.qZA()()),2&t&&(e.xp6(3),e.Oqu(null==n.board?null:n.board.title),e.xp6(3),e.Oqu(null==n.board?null:n.board.description),e.xp6(1),e.Q6J("@hoveredBoard",n.animationStatus))},directives:[v.a8,v.dk,v.n5,v.dn,D.Hw],styles:[".mat-card-title[_ngcontent-%COMP%]{color:#ffd740;margin-bottom:5px}.mat-card-content[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden}.mat-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:flex;align-items:flex-start;text-overflow:ellipsis}.board-preview[_ngcontent-%COMP%]{position:relative;width:180px;height:100px;overflow:hidden;background:#663bb8;transition:background-color .2s;color:#fff}.board-preview[_ngcontent-%COMP%]:hover{cursor:pointer;background:rgba(102,59,184,.8)}.delete-btn[_ngcontent-%COMP%]{position:absolute;margin:0;transition:transform .2s}.delete-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1);color:#ffd740}.mat-card-title[_ngcontent-%COMP%]{margin:0}.mat-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.mat-card-header[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%]{margin:0}.text-oneline[_ngcontent-%COMP%]     *{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}"],data:{animation:[(0,x.X$)("hoveredBoard",[(0,x.SB)("start",(0,x.oB)({right:"-40px",bottom:"10px"})),(0,x.SB)("end",(0,x.oB)({right:"10px",bottom:"10px"})),(0,x.eR)("start <=> end",(0,x.jt)("200ms ease-out"))])]}}),i})();function He(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"li")(1,"app-board-preview",8),e.NdJ("deleteBoardPreview",function(){const a=e.CHM(t).$implicit;return e.oxw().deleteBoardPreview(a.id)}),e.qZA()()}if(2&i){const t=r.$implicit;e.xp6(1),e.Q6J("board",t)}}const Xe=[{path:"",pathMatch:"full",component:(()=>{class i{constructor(t,n,o,a,c){this.boardsApiService=t,this.dialog=n,this.dialogService=o,this.dialogBoardService=a,this.spinner=c,this.boardsArr=[]}ngOnInit(){this.getBoards(),this.dialogSubscription=this.dialogBoardService.events$.subscribe(()=>this.openNewBoardDialog())}ngOnDestroy(){var t;null===(t=this.dialogSubscription)||void 0===t||t.unsubscribe()}openNewBoardDialog(){this.dialog.open(Je,{data:Ye.J$.board}).afterClosed().subscribe(n=>{void 0!==n&&this.boardsApiService.createBoard(n.title,n.description).subscribe(()=>this.getBoards())})}deleteBoardPreview(t){this.dialogService.confirmDialog({param:"CONFIRM.paramBoard"}).subscribe(n=>{n&&this.boardsApiService.deleteBoard(t).subscribe(()=>this.getBoards())})}getBoards(){this.spinner.show(),this.boardsApiService.getBoards().pipe((0,oe.x)(()=>this.spinner.hide())).subscribe(t=>{this.boardsArr=t,this.spinner.hide()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(X),e.Y36(p.uw),e.Y36(G.x),e.Y36(ae.U),e.Y36(j.t2))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-boards-page"]],decls:14,vars:4,consts:[[1,"background"],[1,"container"],[1,"search"],[1,"boards-container"],[4,"ngFor","ngForOf"],[1,"board","new-board",3,"click"],[1,"icon"],["bdColor","rgba(51,51,51,0.8)","size","medium","color","#fff","type","square-jelly-box"],[3,"board","deleteBoardPreview"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-card-title"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"mat-divider")(6,"app-global-search",2),e.TgZ(7,"ul",3),e.YNc(8,He,2,1,"li",4),e.TgZ(9,"li")(10,"mat-card",5),e.NdJ("click",function(){return n.openNewBoardDialog()}),e.TgZ(11,"mat-icon",6),e._uU(12,"add"),e.qZA()()()()()(),e._UZ(13,"ngx-spinner",7)),2&t&&(e.xp6(3),e.Oqu(e.lcZ(4,2,"MAIN.WORKSPACES")),e.xp6(5),e.Q6J("ngForOf",n.boardsArr))},directives:[v.n5,Y.d,ze,g.sg,Ge,v.a8,D.Hw,j.Ro],pipes:[y.X$],styles:[".background[_ngcontent-%COMP%]{width:100%;background-color:#663bb81a}.container[_ngcontent-%COMP%]{padding:90px 20px 20px;display:flex;max-width:1200px;width:100%;flex-direction:column;justify-content:start;gap:20px;height:100vh}.search[_ngcontent-%COMP%]{margin:0 0 0 auto}.mat-card-title[_ngcontent-%COMP%]{margin-bottom:0}ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0}.boards-container[_ngcontent-%COMP%]{display:flex;width:100%;flex-wrap:wrap;justify-content:center;gap:20px}.new-board[_ngcontent-%COMP%]{width:180px;height:100px;background-color:#091e420a;display:flex;justify-content:center;align-items:center}.new-board[_ngcontent-%COMP%]:hover{cursor:pointer}.new-board[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{transform:scale(1.6)}.icon[_ngcontent-%COMP%]{transition:transform .2s}@media (max-width: 600px){.container[_ngcontent-%COMP%]{padding:80px 20px 20px}.mat-card-title[_ngcontent-%COMP%]{font-size:16px}.search[_ngcontent-%COMP%]{margin:0 auto}}"]}),i})()},{path:":id",component:Re}];let We=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[T.Bz.forChild(Xe)],T.Bz]}),i})(),Ke=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[g.ez,We,M.q,s.UX,s.u5,L.m,m,he],s.UX,s.u5]}),i})()},4327:function(Q,F){var s;void 0!==(s=function(){"use strict";function M(m,d,h){var u=new XMLHttpRequest;u.open("GET",m),u.responseType="blob",u.onload=function(){B(u.response,d,h)},u.onerror=function(){console.error("could not download file")},u.send()}function e(m){var d=new XMLHttpRequest;d.open("HEAD",m,!1);try{d.send()}catch(h){}return 200<=d.status&&299>=d.status}function w(m){try{m.dispatchEvent(new MouseEvent("click"))}catch(h){var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),m.dispatchEvent(d)}}var C="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,R=C.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),B=C.saveAs||("object"!=typeof window||window!==C?function(){}:"download"in HTMLAnchorElement.prototype&&!R?function(m,d,h){var u=C.URL||C.webkitURL,k=document.createElement("a");k.download=d=d||m.name||"download",k.rel="noopener","string"==typeof m?(k.href=m,k.origin===location.origin?w(k):e(k.href)?M(m,d,h):w(k,k.target="_blank")):(k.href=u.createObjectURL(m),setTimeout(function(){u.revokeObjectURL(k.href)},4e4),setTimeout(function(){w(k)},0))}:"msSaveOrOpenBlob"in navigator?function(m,d,h){if(d=d||m.name||"download","string"!=typeof m)navigator.msSaveOrOpenBlob(function L(m,d){return void 0===d?d={autoBom:!1}:"object"!=typeof d&&(console.warn("Deprecated: Expected third argument to be a object"),d={autoBom:!d}),d.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(m.type)?new Blob(["\ufeff",m],{type:m.type}):m}(m,h),d);else if(e(m))M(m,d,h);else{var u=document.createElement("a");u.href=m,u.target="_blank",setTimeout(function(){w(u)})}}:function(m,d,h,u){if((u=u||open("","_blank"))&&(u.document.title=u.document.body.innerText="downloading..."),"string"==typeof m)return M(m,d,h);var k="application/octet-stream"===m.type,U=/constructor/i.test(C.HTMLElement)||C.safari,q=/CriOS\/[\d]+/.test(navigator.userAgent);if((q||k&&U||R)&&"undefined"!=typeof FileReader){var P=new FileReader;P.onloadend=function(){var A=P.result;A=q?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),u?u.location.href=A:location=A,u=null},P.readAsDataURL(m)}else{var J=C.URL||C.webkitURL,N=J.createObjectURL(m);u?u.location=N:location.href=N,u=null,setTimeout(function(){J.revokeObjectURL(N)},4e4)}});C.saveAs=B.saveAs=B,Q.exports=B}.apply(F,[]))&&(Q.exports=s)}}]);